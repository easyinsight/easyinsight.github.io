<?xml version="1.0" ?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" implements="com.easyinsight.administration.feed.IFeedAdminDetail"
        creationComplete="validators = [ urlValidator ]">
    <mx:Script><![CDATA[
        import com.easyinsight.analysis.AnalysisChangedEvent;
import com.easyinsight.datasources.JiraDataSource;
        import mx.validators.Validator;

        private var validators:Array = [];
        [Bindable]
        private var url:String;

        public function set feedDefinition(feedDefinition:FeedDefinitionData):void {
            var jiraDef:JiraDataSource = feedDefinition as JiraDataSource;
            url = jiraDef.url;
        }
        
    public function updateFeedDefinition(feedDefinition:FeedDefinitionData):void {
        var jiraDef:JiraDataSource = feedDefinition as JiraDataSource;
        jiraDef.url = urlInput.text;
    }

    public function validate():Boolean {
        var results:Array = Validator.validateAll(validators);
        return results.length == 0;
    }
    ]]></mx:Script>
    <mx:Form>
        <mx:FormItem label="URL: " direction="horizontal" fontWeight="bold" fontFamily="Tahoma">
			<mx:TextInput id="urlInput" fontWeight="normal" fontFamily="Lucida Grande" text="{url}" change="dispatchEvent(new AnalysisChangedEvent())"/>
		</mx:FormItem>
        <mx:FormItem label="Example: http://demohost:8080" fontSize="10"/>
    </mx:Form>
    <mx:StringValidator source="{urlInput}" property="text" minLength="3" id="urlValidator"/>
</mx:VBox>