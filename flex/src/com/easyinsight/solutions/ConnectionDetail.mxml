<?xml version="1.0" ?>
<mx:Module xmlns:mx="http://www.adobe.com/2006/mxml" implements="com.easyinsight.listing.IPerspective" width="100%" height="100%"
        borderStyle="none" borderThickness="0">
    <mx:Script><![CDATA[
        import com.easyinsight.datasources.DataSourceType;
        import com.easyinsight.datasources.JSONDataSource;
        import com.easyinsight.listing.IPerspective;

        private var _solution:Solution;
        private var _auth:Boolean;

        public function set solution(value:Solution):void {
            _solution = value;
        }

        public function set auth(value:Boolean):void {
            _auth = value;
        }

        protected override function createChildren():void {
            super.createChildren();
            var solutionDetailRenderer:SolutionDetailRenderer = getDetailPage(_solution.dataSourceType);
            solutionDetailRenderer.solution = _solution;
            addChild(solutionDetailRenderer);
        }

        private function getDetailPage(type:int):SolutionDetailRenderer {
            var result:SolutionDetailRenderer;
            switch (type) {
                case DataSourceType.GOOGLE_ANALYTICS:
                    result = new GoogleAnalyticsSolutionDetail();
                    break;
                case DataSourceType.STATIC:
                    result = new FileUploadSolutionDetail();
                    break;
                case DataSourceType.GOOGLE:
                    result = new GoogleSpreadsheetSolutionDetail();
                    break;
                case DataSourceType.LINKEDIN:
                    result = new LinkedInSolutionDetail();
                    break;
                case DataSourceType.MYSQL_SERVER:
                    result = new MySQLSolutionDetail();
                    break;
                case DataSourceType.QUICKBASE:
                    result = new QuickbaseSolutionDetail();
                    break;
                case DataSourceType.CLEARDB:
                    result = new ClearDBSolutionDetail();
                    break;
                case DataSourceType.JSON:
                    result = new JSONSolutionDetail();
                    break;
                case DataSourceType.CLOUD_WATCH:
                    result = new CloudWatchSolutionDetail();
                    break;
                case DataSourceType.ORACLE:
                    result = new OracleSolutionDetail();
                    break;
                case DataSourceType.SALESFORCE:
                    result = new SalesforceSolutionDetail();
                    break;
                case DataSourceType.SERVER_SQL_SERVER:
                    result = new SQLServerSolutionDetail();
                    break;
                case DataSourceType.SAMPLE:
                    result = new SampleSolutionDetail();
                    break;
            }
            return result;
        }

        public function gotFocus():void {
        }

        public function cleanup():void {
            var perspective:IPerspective = getChildAt(0) as IPerspective;
            perspective.cleanup();
        }]]></mx:Script>
</mx:Module>