<?xml version="1.0" ?>
<solutions:SolutionDetailRenderer xmlns:mx="http://www.adobe.com/2006/mxml"
                                  xmlns:solutions="com.easyinsight.solutions.*"
         width="100%" height="100%" paddingLeft="0" paddingBottom="0" paddingTop="0" paddingRight="0"
         verticalGap="0" backgroundColor="#818285" horizontalAlign="center">
    <solutions:states>
        <mx:State name="NotLoggedIn">
            <mx:RemoveChild target="{installButton}"/>
            <mx:RemoveChild target="{pinButton}"/>
            <mx:RemoveChild target="{startHereLabel}"/>
            <mx:RemoveChild target="{thenLabel}"/>
            <mx:AddChild relativeTo="{controlsBox}">
                <mx:VBox horizontalAlign="center" verticalAlign="middle" height="100%" verticalGap="15">
                    <mx:VBox verticalGap="0">
                        <mx:Label text="You'll need to create an account at the Personal or"/>
                        <mx:Label text="higher tier or log in before installing the solution."/>
                    </mx:VBox>
                    <mx:HBox width="100%" horizontalAlign="center">
                        <mx:Button label="Create Account" styleName="blueButton" click="createAccount()" fontSize="14"/>
                        <mx:Spacer width="20"/>
                        <mx:Button label="Log in" styleName="blueButton" click="login()" fontSize="14"/>
                    </mx:HBox>
                </mx:VBox>
            </mx:AddChild>
        </mx:State>
    </solutions:states>
    <mx:Script><![CDATA[

        [Bindable]
        private var startButtonText:String = "Authorize Access";

        override protected function toNotLoggedInState():void {
            currentState = "NotLoggedIn";
        }

        override protected function toAccountBelowRequiredState():void {
            currentState = "AccountBelowRequired";
        }

        private function install():void {
            tokenService.getOAuthURL.send(39, solution.solutionID);
        }

        private function gotURL():void {
            var url:String = tokenService.getOAuthURL.lastResult as String;
            navigateToURL(new URLRequest(url));
        }
        ]]></mx:Script>
    <mx:RemoteObject destination="tokenService" id="tokenService">
        <mx:method name="getOAuthURL" result="gotURL()"/>
    </mx:RemoteObject>
    <mx:HBox width="1000" height="100%" backgroundColor="#FFFFFF" paddingLeft="20"
             paddingRight="20" paddingTop="20" paddingBottom="20" horizontalAlign="center">
            <mx:VBox width="900" backgroundColor="#FFFFFF" borderColor="#3370ce" borderThickness="3" cornerRadius="15" borderStyle="solid"
                    paddingTop="20" paddingBottom="20" paddingLeft="20" paddingRight="20">
                <mx:HBox verticalAlign="middle" width="100%">
                    <mx:Image source="{logo}" click="toVendorPage()"/>
                    <mx:Spacer width="100%"/>
                    <mx:Label text="LinkedIn Reports and Analysis" fontSize="18"/>
                    <mx:Spacer width="100%"/>
                </mx:HBox>
                <mx:HRule width="100%" strokeColor="#3370ce"/>
                <mx:TextArea backgroundAlpha="0" borderStyle="none" editable="false" selectable="false" width="820" height="70" text="Want to see where you rank on your number of connections? How about LinkedIn reports by industry? One common data source that seemed at least halfway interesting to us was LinkedIn, so if you want a quick start with our reporting and analysis, here's your chance!" fontSize="14"/>
                <mx:HBox width="100%" horizontalAlign="center" paddingBottom="10">
                    <mx:Image source="../assets/LinkedInReport.jpg"/>
                </mx:HBox>
                <mx:TextArea backgroundAlpha="0" borderStyle="none" editable="false" selectable="false" width="820" height="40" text="Measure your connections and network. Analyze your network by company--how many of your former coworkers are still stuck at that horrible place you worked before? Share your results with friends!" fontSize="14"/>
                <mx:Box id="authBox"/>
                <mx:VBox id="controlsBox" paddingTop="0" paddingBottom="10" width="100%" horizontalAlign="center">
                    <mx:Label text="Start Here:" fontSize="14" id="startHereLabel"/>
                    <mx:Button label="Authorize Access" fontSize="14" click="install()" styleName="blueButton" id="installButton"/>
                    <mx:Label text="Then copy that value here:" fontSize="14" id="thenLabel"/>
                    <mx:Button label="Enter a Pin" fontSize="14" click="installSolution()" styleName="blueButton" id="pinButton"/>
                </mx:VBox>
            </mx:VBox>
    </mx:HBox>
</solutions:SolutionDetailRenderer>